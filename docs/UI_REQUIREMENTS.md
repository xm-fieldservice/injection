# 管理页面需求文档

## 1. 系统概述

本文档描述了一个具有命令注入、脑图展示、内容阅读和任务管理功能的综合管理系统界面需求。系统通过多区域联动的方式，实现信息的高效组织、展示和处理。

## 2. 界面布局

系统界面分为三个主要区域，每个区域都采用选项卡方式组织内容：

1. **命令工作区**：位于左侧，用于命令注入和脑图展示
2. **阅读分析区**：位于中间，用于内容阅读和节点详情展示
3. **列表和甬道区**：位于右侧，用于任务列表和状态管理

![界面布局示意图](../assets/ui_layout.png)

## 3. 功能区详细说明

### 3.1 命令工作区

#### 3.1.1 命令注入选项卡
- 支持两种注入模式：
  - 个人笔记注入
  - AI命令生成结果注入
- 所有注入内容都将保存到项目文件夹中的特定日志文件
- 不同来源的内容将打上不同标签（AI标签或笔记标签）

#### 3.1.2 脑图选项卡
- 展示节点的层级关系
- 支持节点选择和中心节点设置
- 点击节点时显示该节点的所有直接关联节点

### 3.2 阅读分析区

#### 3.2.1 节点详情页
- 与命令工作区的脑图选项卡联动
- 显示当前选中节点的详细信息

#### 3.2.2 MD阅读器
- 与命令工作区的命令注入选项卡联动
- 实时显示命令注入生成的内容
- 支持Markdown格式的内容展示

### 3.3 列表和甬道区

#### 3.3.1 任务列表
- 展示任务项
- 与脑图选项卡联动
- 支持列表项选择，使选中项成为脑图的中心节点

#### 3.3.2 泳道选项卡
- 包含5个泳道，用于任务状态管理
- 支持两种功能模式：
  - 父子表列表项展示
  - 任务状态拖拽管理
- 泳道间支持列表项相互拖拽

## 4. 交互联动机制

### 4.1 脑图与节点详情页联动
- 点击脑图节点时，节点详情页同步更新显示该节点信息

### 4.2 命令注入与MD阅读器联动
- 命令注入后，MD阅读器实时显示生成的内容
- 使用户能够即时查看注入效果

### 4.3 脑图与列表区联动
- 设置开关打开时，点击列表项使该项成为脑图的中心节点
- 点击脑图节点时，可通过设置将该节点关联到列表

### 4.4 脑图与泳道联动
- 点击泳道上的节点时，该节点成为脑图的中心节点
- 点击脑图中的节点时，可将该节点放置在任意一个泳道中（默认第一个）

## 5. 节点关系管理

### 5.1 父子关系调整
- 通过脑图操作调整节点父子关系
- 通过泳道选项卡的拖拽调整父子关系
- 两种调整方式需要同步，保持数据一致性

### 5.2 限制条件
- 父子节点模式下，不允许左转（除非需要同步修改脑图的节点父子关系）

## 6. 数据存储与标记

- 所有注入内容保存到特定日志文件
- AI生成内容打上AI标签
- 个人笔记内容打上笔记标签
- 支持内容的分类查询和筛选

## 7. 用户体验要求

- 界面响应迅速，联动效果即时可见
- 操作流程直观，减少用户学习成本
- 提供适当的视觉反馈，明确当前操作状态
- 支持键盘快捷键操作主要功能

## 8. 技术实现考虑

- 采用模块化设计，确保各功能区可独立开发和测试
- 建立统一的数据模型，支持各区域间的数据共享和同步
- 实现高效的事件处理机制，确保联动操作的流畅性
- 考虑数据量大时的性能优化策略
